<html>
<head>
    <title>David Strager</title>
    <script type="text/javascript">

        var stones1 = [0,1,3,5,6,8,12,17];
        var stones2 = [0,1,2,3,4,8,9,11];


        // Result for the first input.
        document.write( "<p>Stones: " + stones1 + "</p>" );
        document.write( "<p>Result: " + canCrossRiver(stones1 /*stones*/, 0 /*curPos*/, 0 /*prevJump*/) + "</p>" );

        // Result for the second input.
        document.write( "<p>Stones: " + stones2 + "</p>" );
        document.write( "<p>Result: " + canCrossRiver(stones2 /*stones*/, 0 /*curPos*/, 0 /*prevJump*/) + "</p>" );

        /**
         *  Determine whether it is possible to jump from the current curPosition to the last stone or not.
         *  @param stones: array of stones' position.
         *  @return true if frog can prevJump to the last stone, false if otherwise.
         */
        function canCrossRiver(stones) {

            if(stones.length > 0){
                 // create a new object for jump history and initialize it with first position.
                var jumpLogs = {"0":[0]};

                // loop through stones to create a history.
                stones.forEach( stone => {

                    // check if the history for current stone exists.
                    if(jumpLogs[stone]){

                        // if the history exists, loop through history's jump.
                        jumpLogs[stone].forEach(prevJump => {

                            // loop through possible jump, frog can.
                            for(let jump = prevJump - 1; jump <= prevJump + 1; prevJump++){

                                // check if the jump is jumpable and not exceed the last stone.
                                if(jump > 0 && stone+jump < stones.length){

                                    // if condition is true, create a new jump history and push prev jumps to current stone.
                                    jumpLogs[stone+jump] = []
                                    jumpLogs[stone+jump].push(jump)
                                }
                            }
                        })
                    }
                })

                // finally check if the last stone has got any possible jump and if exists, return true. Otherwise false.
                return jumpLogs[stones.slice(-1)].length() > 0
            }
           
        }

    </script>
</head>
<body>

</body>
</html>
